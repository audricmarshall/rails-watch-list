<%# <h1>Lists#show</h1>
<p>Find me in app/views/lists/show.html.erb</p>
 %>

 <div class="container my-5">
  <h2 class="mb-3">Movies in this list</h2>
  <div class="row gy-4">
      <% @list.bookmarks.each do |bookmark| %>
       <div class="col-md-6 col-lg-4">
        <div class="card d-flex flex-row align-items-center">
          <div class="movie-poster me-3">
             <%= link_to preview_movie_path(bookmark.movie) do %>
               <img src="<%= bookmark.movie.poster_url.presence || asset_path('default_movie.jpg') %>"
                    alt="<%= bookmark.movie.title %>" class="img-fluid movie-thumbnail" />
             <% end %>
             </div>
                <div>
                  <h5 class="mb-1"><%= bookmark.movie.title %></h5>
                  <div class="mb-2"><%= bookmark.comment %></div>
                  <%= link_to "Remove", bookmark_path(bookmark), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-danger btn-sm" %>
              </div>
          </div>
      </div>
    <% end %>
  </div>

  <div class="card p-4 mb-4">
    <h2 class="mb-3">Add a movie to this list</h2>
    <%= simple_form_for([@list, @bookmark]) do |f| %>
      <div class="row">
        <div class="col-md-6">
          <%= f.input :movie_id, collection: Movie.all, label_method: :title, value_method: :id, label: "Movie" %>
        </div>
        <div class="col-md-6">
          <%= f.input :comment, label: "Comment" %>
        </div>
      </div>
      <div class="mt-3">
        <%= f.submit "Add movie", class: "btn btn-success" %>
      </div>
    <% end %>
  </div>
  <%= link_to "Back to all lists", lists_path, class: "btn btn-secondary" %>
</div>
